---
layout: default
title: 개념 설명
---

# 테트리스 게임 만들기 - 개념 설명서

## 📖 이 문서는?

이 문서는 테트리스 게임을 만들면서 배우게 되는 프로그래밍과 Unity의 주요 개념들을 쉽게 설명합니다.  
중학생도 이해할 수 있도록 쉬운 예시와 함께 설명했습니다.

---

## 🎮 게임 개발 기본 개념

### 1. 게임 루프 (Game Loop)

게임은 계속 반복되는 루프입니다:

```
게임 시작
  ↓
사용자 입력 받기
  ↓
게임 상태 업데이트 (블록 이동, 낙하 등)
  ↓
화면 그리기
  ↓
다시 사용자 입력 받기...
```

Unity에서는 `Update()` 함수가 매 프레임마다 자동으로 호출되어 이 루프를 만듭니다.

**예시**: 테트리스에서 블록이 자동으로 떨어지는 것도 이 루프 덕분입니다.

---

## 💻 C# 프로그래밍 개념

### 1. 변수 (Variable)

**변수**는 데이터를 저장하는 상자입니다.

```csharp
int score = 0;        // 정수(숫자)를 저장하는 상자
string name = "홍길동"; // 문자열(글자)을 저장하는 상자
float speed = 1.5f;   // 소수점 숫자를 저장하는 상자
bool isGameOver = false; // 참/거짓을 저장하는 상자
```

**왜 사용하나요?**
- 게임 점수를 저장하고 싶을 때
- 플레이어 이름을 기억하고 싶을 때
- 게임이 끝났는지 확인하고 싶을 때

**테트리스 예시**:
```csharp
int score = 0;  // 점수를 저장
int level = 1;  // 레벨을 저장
```

---

### 2. 함수/메서드 (Function/Method)

**함수**는 특정 작업을 수행하는 코드 묶음입니다.

```csharp
// 함수 정의
void SayHello()
{
    Debug.Log("안녕하세요!");
}

// 함수 호출 (사용)
SayHello();  // "안녕하세요!"가 출력됨
```

**함수의 구성 요소**:
- **이름**: 함수를 부르는 이름 (예: `SayHello`)
- **매개변수**: 함수에 전달하는 데이터 (예: `int number`)
- **반환값**: 함수가 돌려주는 결과 (예: `return 10;`)

**테트리스 예시**:
```csharp
// 블록을 왼쪽으로 이동시키는 함수
public void MoveLeft()
{
    position.x--;  // x 좌표를 1 감소
}
```

---

### 3. 조건문 (If-Else)

**조건문**은 "만약 ~라면"을 표현합니다.

```csharp
int age = 15;

if (age >= 18)
{
    Debug.Log("성인입니다");
}
else
{
    Debug.Log("미성년자입니다");
}
```

**테트리스 예시**:
```csharp
// 블록이 이동 가능한지 확인
if (ValidMove(new Vector2Int(-1, 0)))
{
    position.x--;  // 이동 가능하면 왼쪽으로 이동
}
```

---

### 4. 반복문 (Loop)

**반복문**은 같은 작업을 여러 번 반복합니다.

#### for 반복문
```csharp
// 0부터 9까지 출력
for (int i = 0; i < 10; i++)
{
    Debug.Log(i);
}
```

#### foreach 반복문
```csharp
// 리스트의 모든 항목을 확인
foreach (var cell in cells)
{
    Debug.Log(cell);
}
```

**테트리스 예시**:
```csharp
// 모든 행을 확인하여 가득 찬 행 찾기
for (int y = 0; y < height; y++)
{
    if (HasLine(y))
    {
        DeleteLine(y);  // 가득 찬 행 제거
        RowDown(y);     // 위의 행들을 아래로 이동
    }
}
```

---

### 5. 배열 (Array)

**배열**은 같은 타입의 데이터를 여러 개 순서대로 저장합니다.

```csharp
// 정수 배열 (크기 5)
int[] numbers = new int[5];
numbers[0] = 10;  // 첫 번째 칸
numbers[1] = 20;  // 두 번째 칸
numbers[2] = 30;  // 세 번째 칸
```

**2차원 배열** (표처럼 생김):
```csharp
// 10x20 크기의 2차원 배열 (게임 보드)
Transform[,] grid = new Transform[10, 20];
grid[5, 10] = block;  // 5번째 열, 10번째 행에 블록 저장
```

**테트리스 예시**:
```csharp
// 게임 보드는 10x20 그리드
private Transform[,] grid = new Transform[10, 20];
```

---

### 6. 리스트 (List)

**리스트**는 배열과 비슷하지만 크기가 자유롭게 변할 수 있습니다.

```csharp
// 리스트 생성
List<int> numbers = new List<int>();

// 항목 추가
numbers.Add(10);
numbers.Add(20);
numbers.Add(30);

// 항목 개수
int count = numbers.Count;  // 3
```

**테트리스 예시**:
```csharp
// 테트로미노 블록의 셀 위치들을 저장
List<Vector2Int> cells = new List<Vector2Int>();
cells.Add(new Vector2Int(0, 0));
cells.Add(new Vector2Int(1, 0));
```

---

### 7. 딕셔너리 (Dictionary)

**딕셔너리**는 키(Key)와 값(Value)을 쌍으로 저장합니다. 사전처럼 찾아볼 수 있습니다.

```csharp
// 딕셔너리 생성
Dictionary<string, int> scores = new Dictionary<string, int>();

// 값 저장
scores["홍길동"] = 1000;
scores["김철수"] = 2000;

// 값 가져오기
int hongScore = scores["홍길동"];  // 1000
```

**테트리스 예시**:
```csharp
// 각 모양 번호에 해당하는 셀 위치 저장
Dictionary<int, Vector2Int[]> shapes = new Dictionary<int, Vector2Int[]>();
shapes[0] = new Vector2Int[] {...};  // I 모양
shapes[1] = new Vector2Int[] {...};  // O 모양
```

---

### 8. 클래스 (Class)

**클래스**는 관련된 변수와 함수를 묶은 설계도입니다.

```csharp
// 자동차 클래스 정의
public class Car
{
    public string color;      // 색상 변수
    public int speed;         // 속도 변수
    
    // 함수
    public void Drive()
    {
        Debug.Log("달려요!");
    }
}

// 자동차 객체 생성
Car myCar = new Car();
myCar.color = "빨강";
myCar.Drive();
```

**테트리스 예시**:
```csharp
// Tetromino 클래스: 테트로미노 블록의 모든 기능을 포함
public class Tetromino : MonoBehaviour
{
    private Vector2Int position;  // 위치
    private List<Vector2Int> cells;  // 셀들
    
    public void MoveLeft() { ... }  // 이동 함수
    public void Rotate() { ... }    // 회전 함수
}
```

---

### 9. 객체 지향 프로그래밍 (OOP)

**객체 지향 프로그래밍**은 현실 세계의 사물을 코드로 표현하는 방법입니다.

**핵심 개념**:
- **클래스**: 설계도 (예: 자동차 설계도)
- **객체**: 실제 물건 (예: 내 자동차)
- **캡슐화**: 관련된 것들을 하나로 묶기
- **상속**: 부모 클래스의 기능을 물려받기

**테트리스 예시**:
- `Tetromino` 클래스: 블록의 설계도
- `GameBoard` 클래스: 게임 보드의 설계도
- 각각 독립적으로 작동하지만 서로 협력함

---

## 🎯 Unity 개념

### 1. GameObject

**GameObject**는 Unity 게임 세계의 모든 오브젝트입니다.

- 빈 GameObject: 아무것도 없는 빈 상자
- Cube, Sphere 등: 기본 모양
- 사용자가 만든 오브젝트

**예시**:
- 게임 보드 = GameObject
- 테트로미노 블록 = GameObject
- 카메라 = GameObject

---

### 2. Component (컴포넌트)

**Component**는 GameObject에 추가되는 기능입니다.

```csharp
// GameObject에 컴포넌트 추가
gameObject.AddComponent<Tetromino>();
```

**주요 컴포넌트**:
- **Transform**: 위치, 회전, 크기
- **Renderer**: 화면에 그리기
- **Collider**: 충돌 감지
- **Rigidbody**: 물리 효과

**테트리스 예시**:
- Tetromino 컴포넌트: 블록 이동 기능
- GameBoard 컴포넌트: 보드 관리 기능

---

### 3. MonoBehaviour

**MonoBehaviour**는 Unity에서 사용하는 특별한 클래스입니다.

```csharp
public class Tetromino : MonoBehaviour
{
    void Start() { ... }   // 게임 시작 시 한 번 실행
    void Update() { ... }  // 매 프레임마다 실행
}
```

**주요 함수**:
- `Start()`: 게임 시작 시 한 번만 실행
- `Update()`: 매 프레임마다 실행 (초당 60회 정도)
- `Awake()`: Start보다 먼저 실행

**📚 더 자세한 설명**: MonoBehaviour가 어렵다면 **[MonoBehaviour이해하기](./MonoBehaviour이해하기.md)** 문서를 참고하세요!  
비유와 예시를 통해 쉽게 이해할 수 있도록 설명되어 있습니다.

---

### 4. Transform

**Transform**은 GameObject의 위치, 회전, 크기 정보를 담고 있습니다.

```csharp
// 위치 변경
transform.position = new Vector3(5, 10, 0);

// 이동
transform.position += Vector3.right;  // 오른쪽으로 이동

// 회전
transform.rotation = Quaternion.Euler(0, 90, 0);
```

**테트리스 예시**:
```csharp
// 블록을 (5, 10) 위치로 이동
transform.position = new Vector3(5, 10, 0);
```

---

### 5. Vector2, Vector3

**Vector**는 위치나 방향을 나타내는 수학적 개념입니다.

```csharp
Vector2 position2D = new Vector2(5, 10);      // 2D 위치 (x, y)
Vector3 position3D = new Vector3(5, 10, 0);  // 3D 위치 (x, y, z)

// Vector2Int: 정수만 사용 (게임 보드 좌표에 적합)
Vector2Int gridPos = new Vector2Int(5, 10);
```

**테트리스 예시**:
```csharp
// 블록의 위치를 (5, 10)으로 설정
position = new Vector2Int(5, 10);
```

---

### 6. Instantiate와 Destroy

**Instantiate**: 게임 오브젝트를 복제(생성)합니다.
```csharp
GameObject newBlock = Instantiate(blockPrefab);
```

**Destroy**: 게임 오브젝트를 삭제합니다.
```csharp
Destroy(gameObject);  // 자기 자신 삭제
Destroy(otherObject); // 다른 오브젝트 삭제
```

**테트리스 예시**:
```csharp
// 새 테트로미노 생성
GameObject newPiece = Instantiate(tetrominoPrefab);

// 블록 삭제
Destroy(block);
```

---

### 7. Time.deltaTime

**Time.deltaTime**은 이전 프레임과 현재 프레임 사이의 시간(초)입니다.

```csharp
// 매 프레임마다 시간 누적
timer += Time.deltaTime;

// 1초가 지나면 실행
if (timer >= 1.0f)
{
    DoSomething();
    timer = 0f;
}
```

**테트리스 예시**:
```csharp
// 블록이 1초마다 떨어지도록
fallTimer += Time.deltaTime;
if (fallTimer >= fallTime)
{
    MoveDown();
    fallTimer = 0f;
}
```

---

### 8. FindObjectOfType

**FindObjectOfType**은 씬에서 특정 타입의 컴포넌트를 찾습니다.

```csharp
// GameBoard 컴포넌트를 가진 GameObject 찾기
GameBoard gameBoard = FindObjectOfType<GameBoard>();
```

**테트리스 예시**:
```csharp
// 게임 보드 찾기
gameBoard = FindObjectOfType<GameBoard>();
```

---

## 🎲 게임 로직 개념

### 1. 충돌 감지 (Collision Detection)

**충돌 감지**는 두 오브젝트가 겹치는지 확인하는 것입니다.

```csharp
// 블록이 이동 가능한지 확인
bool ValidMove(Vector2Int offset)
{
    Vector2Int newPos = position + offset;
    
    // 보드 범위를 벗어나면 이동 불가
    if (!gameBoard.IsValidPosition(newPos))
        return false;
    
    // 이미 블록이 있으면 이동 불가
    if (!gameBoard.IsCellEmpty(newPos))
        return false;
    
    return true;  // 이동 가능
}
```

---

### 2. 상태 관리 (State Management)

**상태 관리**는 게임의 현재 상황을 추적하는 것입니다.

```csharp
// 게임 상태 변수
bool isGameOver = false;
int score = 0;
int level = 1;

// 상태 확인
if (isGameOver)
{
    // 게임 오버 처리
}
```

---

### 3. 이벤트 (Event)

**이벤트**는 특정 상황에서 발생하는 일입니다.

**테트리스 예시**:
- 블록이 바닥에 닿으면 → 행 제거 확인
- 행이 가득 차면 → 점수 추가
- 10줄 제거하면 → 레벨 증가

---

## 🔢 수학 개념

### 1. 좌표계 (Coordinate System)

Unity는 **좌표계**를 사용합니다:
- **X축**: 좌우 (왼쪽: 음수, 오른쪽: 양수)
- **Y축**: 상하 (아래: 음수, 위: 양수)
- **Z축**: 앞뒤 (앞: 양수, 뒤: 음수)

```
      Y
      ↑
      |
      |
←-----+-----→ X
      |
      |
```

**테트리스 예시**:
- (0, 0): 보드 왼쪽 아래
- (10, 20): 보드 오른쪽 위

---

### 2. 회전 수학

**90도 회전** 공식:
```
새 X = -기존 Y
새 Y = 기존 X
```

**예시**:
```
원래: (1, 0)
회전: (0, 1)  // X=-0, Y=1
```

**테트리스 예시**:
```csharp
// 90도 시계 방향 회전
Vector2Int rotated = new Vector2Int(-cell.y, cell.x);
```

---

## 📚 용어 사전

| 용어           | 설명                               |
| -------------- | ---------------------------------- |
| **변수**       | 데이터를 저장하는 상자             |
| **함수**       | 특정 작업을 수행하는 코드 묶음     |
| **클래스**     | 관련된 변수와 함수를 묶은 설계도   |
| **객체**       | 클래스로부터 만들어진 실제 데이터  |
| **배열**       | 같은 타입의 데이터를 순서대로 저장 |
| **리스트**     | 크기가 변할 수 있는 배열           |
| **GameObject** | Unity 게임 세계의 모든 오브젝트    |
| **Component**  | GameObject에 추가되는 기능         |
| **Transform**  | 위치, 회전, 크기 정보              |
| **Vector**     | 위치나 방향을 나타내는 수학적 개념 |
| **충돌 감지**  | 오브젝트가 겹치는지 확인           |
| **게임 루프**  | 게임이 반복하는 기본 흐름          |

---

## 💡 학습 팁

1. **하나씩 이해하기**: 모든 개념을 한 번에 이해하려 하지 말고, 하나씩 차근차근 배우세요.

2. **직접 해보기**: 설명만 읽지 말고, 코드를 직접 작성하고 실행해보세요.

3. **오류는 친구**: 오류가 나면 화내지 말고, 왜 오류가 났는지 생각해보세요.

4. **주석 활용**: 코드에 주석을 달아서 나중에 다시 볼 때 이해하기 쉽게 하세요.

5. **작은 것부터**: 큰 기능을 한 번에 만들지 말고, 작은 기능부터 하나씩 완성하세요.

---

**이 문서는 계속 업데이트됩니다. 질문이 있으면 언제든 물어보세요!** 🎓
