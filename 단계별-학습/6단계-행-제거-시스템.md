---
layout: default
title: 6단계 - 행 제거 시스템
---

# 6단계: 행 제거 시스템

## 🎯 이 단계에서 배울 것

- 가득 찬 행 감지
- 행 제거 로직
- 위 블록들을 아래로 이동
- 점수 계산

## 📝 실습 내용

### 1. 행 제거 함수 구현

`GameBoard.cs`에 추가:

```csharp
public void ClearFullRows()
{
    for (int y = 0; y < height; y++)
    {
        if (IsRowFull(y))
        {
            ClearRow(y);
            MoveRowsDown(y);
            y--;  // 다시 확인
        }
    }
}

bool IsRowFull(int row)
{
    for (int x = 0; x < width; x++)
    {
        if (grid[x, row] == null)
            return false;
    }
    return true;
}

void ClearRow(int row)
{
    for (int x = 0; x < width; x++)
    {
        if (grid[x, row] != null)
        {
            Destroy(grid[x, row].gameObject);
            grid[x, row] = null;
        }
    }
}

void MoveRowsDown(int clearedRow)
{
    for (int y = clearedRow; y < height; y++)
    {
        for (int x = 0; x < width; x++)
        {
            if (grid[x, y] != null)
            {
                grid[x, y - 1] = grid[x, y];
                grid[x, y] = null;
                grid[x, y - 1].position += Vector3.down;
            }
        }
    }
}
```

## ✅ 확인 사항

- [ ] 한 줄을 채우면 제거되는가?
- [ ] 위 블록들이 아래로 내려오는가?
- [ ] 여러 줄을 동시에 제거할 수 있는가?

---

[← 이전 단계: 5단계 - 입력 처리](./5단계-입력-처리) | [다음 단계: 7단계 - 점수 및 레벨 시스템 →](./7단계-점수-레벨-시스템)
