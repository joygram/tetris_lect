---
layout: default
title: 2단계 - 게임 보드 만들기
---

# 2단계: 게임 보드 만들기

## 🎯 이 단계에서 배울 것

- 2차원 배열의 개념
- GameBoard 클래스 구현
- 게임 보드 그리드 초기화
- 위치 검증 함수 구현

## 📝 실습 내용

### 1. GameBoard 클래스 생성

`Assets/Scripts/GameBoard.cs` 생성:

```csharp
using UnityEngine;

public class GameBoard : MonoBehaviour
{
    public int width = 10;   // 가로 10칸
    public int height = 20;  // 세로 20칸
    
    private Transform[,] grid;  // 2차원 배열
    
    void Awake()
    {
        grid = new Transform[width, height];
        Debug.Log($"게임 보드 생성: {width}x{height}");
    }
    
    // 위치가 유효한지 확인
    public bool IsValidPosition(Vector2Int position)
    {
        return position.x >= 0 && position.x < width &&
               position.y >= 0 && position.y < height;
    }
}
```

### 2. GameBoard 스크립트 파일 생성

#### 2-1. Scripts 폴더에서 스크립트 생성

1. **Project 창에서 Scripts 폴더 선택**
   - 화면 아래 Project 창에서 **"Scripts"** 폴더 클릭

2. **C# 스크립트 생성**
   - Scripts 폴더 선택 상태에서 **우클릭**
   - **"Create"** → **"C# Script"** 선택

3. **이름 변경**
   - 생성된 "NewBehaviourScript"를 **"GameBoard"**로 변경
   - 방법: 클릭 후 잠시 기다린 후 다시 클릭하거나 **F2** 키

4. **스크립트 파일 확인**
   - Project 창의 Scripts 폴더에 **"GameBoard.cs"** 파일이 생성됨

#### 2-2. 스크립트 코드 작성

1. **GameBoard.cs 파일 열기**
   - Project 창에서 **"GameBoard.cs"** 더블클릭
   - 에디터가 열림

2. **코드 작성**
   - 에디터에 기본 코드가 있음
   - 위의 코드로 **전체 교체**

3. **저장**
   - **Ctrl + S** (Windows) 또는 **Cmd + S** (Mac)로 저장
   - 또는 메뉴: **File > Save**

### 3. GameBoard 오브젝트 생성

#### 3-1. 빈 GameObject 생성

1. **Hierarchy 창 확인**
   - 화면 왼쪽 하단의 **"Hierarchy"** 창 확인

2. **빈 GameObject 생성**
   - Hierarchy 창의 빈 공간에서 **우클릭**
   - **"Create Empty"** 선택
   - 또는 메뉴: **GameObject > Create Empty**

3. **이름 변경**
   - 생성된 "GameObject"를 **"GameBoard"**로 변경
   - 방법:
     - Hierarchy에서 클릭 후 잠시 기다린 후 다시 클릭
     - 또는 **F2** 키
     - 또는 Inspector 창 상단의 이름 필드에서 직접 입력

#### 3-2. GameBoard 스크립트 추가

1. **스크립트 드래그 앤 드롭**
   - Project 창에서 **"GameBoard.cs"** 파일 찾기
   - **GameBoard.cs**를 **클릭하고 잡은 상태**로
   - Hierarchy의 **"GameBoard"** GameObject 위로 **드래그**
   - 놓으면 스크립트가 추가됨

2. **스크립트 추가 확인**
   - Hierarchy에서 **"GameBoard"** 클릭
   - Inspector 창(오른쪽) 확인
   - **"Game Board (Script)"** 컴포넌트가 보이면 성공!

**또는 Add Component 방법**:
1. Hierarchy에서 **"GameBoard"** 선택
2. Inspector에서 **"Add Component"** 버튼 클릭
3. 검색창에 **"GameBoard"** 입력
4. **"Game Board"** 클릭하여 추가

#### 3-3. Transform 위치 설정 (선택사항)

1. **GameBoard 선택**
   - Hierarchy에서 **"GameBoard"** 클릭

2. **Inspector에서 Transform 확인**
   - Inspector 창에 **"Transform"** 컴포넌트가 보임
   - Position의 X, Y, Z 값이 표시됨

3. **위치 변경 (원하는 경우)**
   - **Position**의 X, Y, Z 값을 변경
   - 기본값: (0, 0, 0)
   - 원하는 위치로 변경 가능 (예: (5, 0, 0))
   - 변경하지 않아도 됨 (기본값 사용 가능)

**💡 중요**: 
- GameBoard의 Unity 월드 좌표는 씬에서 자유롭게 설정 가능
- 게임 보드의 **논리적 좌표계**는 항상 (0, 0)부터 시작 (Unity 월드 좌표와는 별개)
- 실제 게임 로직은 논리적 좌표를 사용합니다

#### 3-4. 게임 실행 및 확인

1. **Play 버튼 클릭**
   - Unity 에디터 상단의 **▶ (Play)** 버튼 클릭

2. **Console 창 확인**
   - Console 창에서 **"게임 보드 생성: 10x20"** 메시지 확인
   - 메시지가 보이면 GameBoard가 정상적으로 작동하는 것!

3. **게임 정지**
   - **▶ (Play)** 버튼을 다시 클릭하여 정지

**참고**: 
- GameBoard의 Unity 월드 좌표는 씬에서 자유롭게 설정할 수 있습니다
- 게임 보드의 **논리적 좌표계**는 항상 (0, 0)부터 시작합니다 (Unity 월드 좌표와는 별개)
- 실제 코드에서는 `grid[position.x, position.y]`로 논리적 좌표를 사용합니다

## ⚠️ 참고 블로그와 이 블로그의 차이점

### 참고 블로그 방식 (웹사이트 기반 가이드)

**GameBoard 위치 설정**:
- GameBoard GameObject의 Unity 월드 좌표를 직접 사용
- 예: GameBoard를 (0, 0, 0) 위치에 배치하거나, 다른 위치에 배치
- Spawner는 보통 (5, 17, 0) 위치에 배치
- 블록 위치도 Unity 월드 좌표로 직접 관리: `transform.position = new Vector3(5, 17, 0)`

**좌표 처리**:
- Unity 월드 좌표를 그대로 사용
- 소수점이 생기면 `Mathf.RoundToInt()`로 반올림
- 간단하고 직관적

### 이 블로그 방식

**GameBoard 위치 설정**:
- GameBoard GameObject의 Unity 월드 좌표는 씬에서 자유롭게 설정 가능
- **논리적 좌표계**는 항상 (0, 0)부터 시작 (Unity 월드 좌표와는 별개)
- 논리적 좌표 (0, 0) = 게임 보드의 왼쪽 아래 모서리 (항상 동일)

**좌표 처리**:
- 논리적 좌표와 Unity 월드 좌표를 분리하여 관리
- 게임 로직은 논리적 좌표로 처리 (정수만 사용)
- Unity 월드 좌표는 화면 표시용으로만 사용
- 더 정확하고 확장 가능

**비교 예시**:
- 참고 블로그: 블록을 (5, 17) 위치에 배치 → Unity 월드 좌표 (5, 17, 0) 사용
- 이 블로그: 블록을 논리적 좌표 (4, 19)에 배치 → Unity 월드 좌표로 변환하여 표시

## ✅ 확인 사항

- [ ] GameBoard 클래스가 정상적으로 작동하는가?
- [ ] Console에 보드 생성 메시지가 출력되는가?
- [ ] IsValidPosition 함수가 올바르게 작동하는가?

## 📚 참고 자료

- [개념 설명 - 2차원 배열](../참고자료/개념설명.md#배열)
- [좌표 처리 가이드](../참고자료/좌표처리-간단가이드.md)

---

[← 이전 단계: 1단계 - Unity 기초](./1단계-Unity-기초.md) | [다음 단계: 3단계 - 테트로미노 블록 만들기 →](./3단계-테트로미노-블록-만들기.md)
