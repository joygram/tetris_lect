---
layout: default
title: 8ë‹¨ê³„ - ê²Œì„ ì™„ì„±
---

# 8ë‹¨ê³„: ê²Œì„ ì™„ì„±

## ğŸ¯ ì´ ë‹¨ê³„ì—ì„œ ë°°ìš¸ ê²ƒ

- Spawner í´ë˜ìŠ¤ êµ¬í˜„
- ê²Œì„ ë£¨í”„ ì™„ì„±
- í•˜ë“œ ë“œë¡­ ê¸°ëŠ¥
- ê²Œì„ ì˜¤ë²„ ê°ì§€

## ğŸ“ ì‹¤ìŠµ ë‚´ìš©

### 1. Spawner í´ë˜ìŠ¤ ìƒì„±

`Assets/Scripts/Spawner.cs` ìƒì„±:

```csharp
using UnityEngine;

public class Spawner : MonoBehaviour
{
    public GameObject[] tetrominoPrefabs;  // 7ê°€ì§€ í…ŒíŠ¸ë¡œë¯¸ë…¸ í”„ë¦¬íŒ¹ ë°°ì—´
    public Transform spawnPoint;  // ìƒì„± ìœ„ì¹˜ (Inspectorì—ì„œ ì„¤ì •)
    
    private GameBoard gameBoard;
    private GameController gameController;
    
    void Start()
    {
        gameBoard = FindObjectOfType<GameBoard>();
        gameController = FindObjectOfType<GameController>();
        SpawnNext();
    }
    
    public void SpawnNext()
    {
        // ê²Œì„ ì˜¤ë²„ í™•ì¸
        if (gameBoard != null && gameBoard.IsGameOver())
        {
            Debug.Log("Game Over!");
            Time.timeScale = 0;  // ê²Œì„ ì¼ì‹œì •ì§€
            return;
        }
        
        // ëœë¤í•˜ê²Œ í…ŒíŠ¸ë¡œë¯¸ë…¸ ì„ íƒ
        int randomIndex = Random.Range(0, tetrominoPrefabs.Length);
        
        // í”„ë¦¬íŒ¹ ìƒì„± (spawnPoint ìœ„ì¹˜ì—)
        GameObject newTetromino = Instantiate(
            tetrominoPrefabs[randomIndex],
            spawnPoint.position,
            Quaternion.identity
        );
        
        // ìƒì„±ëœ ë¸”ë¡ì´ ì´ë¯¸ ì¶©ëŒí•˜ëŠ”ì§€ í™•ì¸ (ê²Œì„ ì˜¤ë²„ ì²´í¬)
        Tetromino tetromino = newTetromino.GetComponent<Tetromino>();
        if (tetromino != null)
        {
            // ìƒì„± ìœ„ì¹˜ì— ì´ë¯¸ ë¸”ë¡ì´ ìˆìœ¼ë©´ ê²Œì„ ì˜¤ë²„
            if (!tetromino.ValidMove(Vector3.zero))
            {
                Debug.Log("Game Over!");
                Time.timeScale = 0;
            }
        }
    }
}
```

**Unity ì—ë””í„°ì—ì„œ ì„¤ì •**:
1. ë¹ˆ GameObject ìƒì„± (ì´ë¦„: "Spawner")
2. `Spawner` ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
3. Inspectorì—ì„œ:
   - `Tetromino Prefabs` ë°°ì—´ í¬ê¸°ë¥¼ 7ë¡œ ì„¤ì •
   - ê° ìŠ¬ë¡¯ì— 7ê°€ì§€ í…ŒíŠ¸ë¡œë¯¸ë…¸ í”„ë¦¬íŒ¹ í• ë‹¹
   - `Spawn Point`ëŠ” ë¹ˆ Transform ì˜¤ë¸Œì íŠ¸ ìƒì„± í›„ í• ë‹¹ (ë˜ëŠ” nullë¡œ ë‘ê³  ì½”ë“œì—ì„œ ê³„ì‚°)

### 2. Tetrominoì˜ LockPiece í™•ì¸

6ë‹¨ê³„ì—ì„œ ì´ë¯¸ `LockPiece()` í•¨ìˆ˜ì— Spawner ì—°ê²°ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. í™•ì¸í•´ë³´ì„¸ìš”:

```csharp
// Tetromino.csì˜ LockPiece() í•¨ìˆ˜ì—ì„œ
Spawner spawner = FindObjectOfType<Spawner>();
if (spawner != null)
{
    spawner.SpawnNext();
}
```

ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆë‹¤ë©´ ì¶”ê°€ ì‘ì—…ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤!

### 3. í•˜ë“œ ë“œë¡­ ê¸°ëŠ¥ êµ¬í˜„

`Tetromino.cs`ì— ì¶”ê°€:

```csharp
public void HardDrop()
{
    // ì•„ë˜ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ë§Œí¼ ê³„ì† ì´ë™
    while (ValidMove(Vector3.down))
    {
        transform.position += Vector3.down;
    }
    
    // ë” ì´ìƒ ë‚´ë ¤ê°ˆ ìˆ˜ ì—†ìœ¼ë©´ ì¦‰ì‹œ ê³ ì •
    LockPiece();
}
```

`InputHandler.cs`ì— ì¶”ê°€:

```csharp
void Update()
{
    // ... ê¸°ì¡´ ì½”ë“œ ...
    
    // í•˜ë“œ ë“œë¡­ (Space í‚¤)
    if (Input.GetKeyDown(KeyCode.Space))
    {
        Tetromino current = FindObjectOfType<Tetromino>();
        if (current != null)
        {
            current.HardDrop();
        }
    }
}
```

### 4. ê²Œì„ ì˜¤ë²„ ê°ì§€

`GameBoard.cs`ì— ê²Œì„ ì˜¤ë²„ í™•ì¸ í•¨ìˆ˜ ì¶”ê°€:

```csharp
public bool IsGameOver()
{
    // ìƒë‹¨ í–‰ì— ë¸”ë¡ì´ ìˆëŠ”ì§€ í™•ì¸
    for (int x = 0; x < width; x++)
    {
        if (grid[x, height - 1] != null)
        {
            return true;
        }
    }
    return false;
}
```

**ë˜ëŠ” Spawnerì—ì„œ ìƒì„± ì‹œ í™•ì¸**:

```csharp
// Spawner.csì˜ SpawnNext() í•¨ìˆ˜ì—ì„œ
public void SpawnNext()
{
    // ê²Œì„ ì˜¤ë²„ í™•ì¸
    if (gameBoard != null && gameBoard.IsGameOver())
    {
        Debug.Log("Game Over!");
        Time.timeScale = 0;  // ê²Œì„ ì¼ì‹œì •ì§€
        return;
    }
    
    // ... ë¸”ë¡ ìƒì„± ì½”ë“œ ...
    
    // ìƒì„±ëœ ë¸”ë¡ì´ ì´ë¯¸ ì¶©ëŒí•˜ëŠ”ì§€ í™•ì¸
    Tetromino newTetromino = newTetromino.GetComponent<Tetromino>();
    if (newTetromino != null)
    {
        // ìƒì„± ìœ„ì¹˜ì— ì´ë¯¸ ë¸”ë¡ì´ ìˆìœ¼ë©´ ê²Œì„ ì˜¤ë²„
        if (!newTetromino.ValidMove(Vector3.zero))
        {
            Debug.Log("Game Over!");
            Time.timeScale = 0;
        }
    }
}
```

## ğŸ”— ì´ì „ ë‹¨ê³„ì™€ì˜ ì—°ê²°

ì´ ë‹¨ê³„ì—ì„œëŠ” ëª¨ë“  ì´ì „ ë‹¨ê³„ì˜ ê¸°ëŠ¥ì„ ì—°ê²°í•©ë‹ˆë‹¤:
- **2ë‹¨ê³„ GameBoard**: ê²Œì„ ì˜¤ë²„ í™•ì¸
- **3ë‹¨ê³„ Tetromino**: ë¸”ë¡ ìƒì„± ë° ì´ˆê¸°í™”
- **4ë‹¨ê³„ ì´ë™/íšŒì „**: ë¸”ë¡ ì œì–´
- **5ë‹¨ê³„ InputHandler**: í•˜ë“œ ë“œë¡­ ì…ë ¥ ì²˜ë¦¬
- **6ë‹¨ê³„ í–‰ ì œê±°**: ë¸”ë¡ ê³ ì • í›„ í–‰ ì œê±°
- **7ë‹¨ê³„ GameController**: ì ìˆ˜ ê³„ì‚°

**ì™„ì „í•œ ê²Œì„ ë£¨í”„**:
1. Spawnerê°€ ìƒˆ ë¸”ë¡ ìƒì„±
2. InputHandlerê°€ ì…ë ¥ ì²˜ë¦¬ (ì´ë™, íšŒì „, í•˜ë“œ ë“œë¡­)
3. ë¸”ë¡ì´ ìë™ìœ¼ë¡œ ë‚™í•˜
4. ë¸”ë¡ì´ ë°”ë‹¥ì— ë‹¿ìœ¼ë©´ ê³ ì •
5. í–‰ ì œê±° ë° ì ìˆ˜ ê³„ì‚°
6. ë‹¤ìŒ ë¸”ë¡ ìƒì„±
7. ê²Œì„ ì˜¤ë²„ í™•ì¸

## âœ… í™•ì¸ ì‚¬í•­

- [ ] ìƒˆë¡œìš´ ë¸”ë¡ì´ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ”ê°€?
- [ ] ë¸”ë¡ ê³ ì • í›„ ë‹¤ìŒ ë¸”ë¡ì´ ìƒì„±ë˜ëŠ”ê°€?
- [ ] ê²Œì„ ì˜¤ë²„ê°€ ê°ì§€ë˜ëŠ”ê°€?
- [ ] í•˜ë“œ ë“œë¡­ì´ ì‘ë™í•˜ëŠ”ê°€?
- [ ] í–‰ ì œê±° í›„ ì ìˆ˜ê°€ ì˜¬ë¼ê°€ëŠ”ê°€?
- [ ] ì™„ì „íˆ ì‘ë™í•˜ëŠ” í…ŒíŠ¸ë¦¬ìŠ¤ ê²Œì„ì¸ê°€?

## ğŸ‰ ì™„ì„±!

ì¶•í•˜í•©ë‹ˆë‹¤! í…ŒíŠ¸ë¦¬ìŠ¤ ê²Œì„ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤!

## ğŸš€ ê°œì„  ì•„ì´ë””ì–´

- ë‹¤ìŒ ì¡°ê° ë¯¸ë¦¬ë³´ê¸°
- í™€ë“œ ê¸°ëŠ¥
- ì‚¬ìš´ë“œ íš¨ê³¼
- íŒŒí‹°í´ íš¨ê³¼
- í•˜ì´ìŠ¤ì½”ì–´ ì €ì¥

---

[â† ì´ì „ ë‹¨ê³„: 7ë‹¨ê³„ - ì ìˆ˜ ë° ë ˆë²¨ ì‹œìŠ¤í…œ](./7ë‹¨ê³„-ì ìˆ˜-ë ˆë²¨-ì‹œìŠ¤í…œ.md)
